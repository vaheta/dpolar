measurements generation ready. first version of optimizer